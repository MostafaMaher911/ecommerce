

<section class="bg-main-light shadow p-2 my-2 rounded-4">
    <h1 class="h2 text-main" >register now</h1>

    <form [formGroup]="registerForm" (ngSubmit)="registersupmit()">

        <div class="my-2">
            <label for="name">name</label>
            <input [ngClass]="{

                'is-valid': !registerForm.get('name')?.errors && (registerForm.get('name')?.touched || registerForm.get('name')?.dirty) ,
                
                'is-invalid': registerForm.get('name')?.errors && (registerForm.get('name')?.touched || registerForm.get('name')?.dirty)
                
            }"

             id="name" type="text" class="form-control" formControlName="name">
            @if (registerForm.get('name')?.errors && (registerForm.get('name')?.touched || registerForm.get('name')?.dirty) ) 
            {
                <div class="alert alert-danger w-50 ">
                    @if (registerForm.get('name')?.getError('required')) {
                        <p class="m-0 text-capitalize">name should required</p >
                    }
                    @else if (registerForm.get('name')?.getError('minlength')) {
                        <p class="m-0 text-capitalize">Name Should be more than or equal  3 chars</p >
                    }
                    @else if (registerForm.get('name')?.getError('maxlength')) {
                        <p class="m-0 text-capitalize">Name Should be less than or equal  20 chars</p>

                    }
                    
                    
                    
                </div>
            }

           
        </div>

        <div class="my-2">
            <label for="email">email</label>
            <input

            [ngClass]="{

                'is-valid': !registerForm.get('email')?.errors && (registerForm.get('email')?.touched || registerForm.get('email')?.dirty) ,
                
                'is-invalid': registerForm.get('email')?.errors && (registerForm.get('email')?.touched || registerForm.get('email')?.dirty)
                
            }"
            
            
            
            id="email" type="email" class="form-control" formControlName="email">


            @if (registerForm.get('email')?.errors && (registerForm.get('email')?.touched || registerForm.get('email')?.dirty) )  
            {
                <div class="alert alert-danger w-50 ">
                    @if (registerForm.get('email')?.getError('required')) {
                        <p class="m-0 text-capitalize">email is required</p >
                    }
                    @else if (registerForm.get('email')?.getError('email')) {
                        <p class="m-0 text-capitalize">Enter Valid Email</p >
                    }
                    
                </div>
            }


        </div>

        <div class="my-2">
            <label for="phone">phone</label>
            <input 

            [ngClass]="{

                'is-valid': !registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || registerForm.get('phone')?.dirty) ,
                
                'is-invalid': registerForm.get('phone')?.errors && (registerForm.get('phone')?.touched || registerForm.get('phone')?.dirty)
                
            }"
            
            
            id="phone" type="tel" class="form-control" formControlName="phone">
            @if (registerForm.get('phone')?.errors &&(registerForm.get('phone')?.touched || registerForm.get('phone')?.dirty) ) 
            {
                <div class="alert alert-danger w-50 ">
                    @if (registerForm.get('phone')?.getError('required')) {
                        <p class="m-0 text-capitalize">phone is required</p >
                    }
                    @else if (registerForm.get('phone')?.getError('pattern')) {
                        <p class="m-0 text-capitalize">Enter Valid phone</p >
                    }
                    
                    
                    
                    
                </div>
            }
        </div>

        <div class="my-2">
            <label for="password">password</label>
            <input 

            [ngClass]="{

                'is-valid': !registerForm.get('password')?.errors && (registerForm.get('password')?.touched || registerForm.get('password')?.dirty) ,
                
                'is-invalid': registerForm.get('password')?.errors && (registerForm.get('password')?.touched || registerForm.get('password')?.dirty)
                
            }"
            
            
            
            id="password" type="password" class="form-control" formControlName="password">

            @if (registerForm.get('password')?.errors && (registerForm.get('password')?.touched || registerForm.get('password')?.dirty) ) 
            {
                <div class="alert alert-danger w-50 ">
                    @if (registerForm.get('password')?.getError('required')) {
                        <p class="m-0 text-capitalize">password is required</p >
                    }
                    @else if (registerForm.get('password')?.getError('pattern')) {
                        <p class="m-0 text-capitalize">Enter Valid password</p >
                    }
                    
                </div>
            }

           
        </div>

        <div class="my-2">
            <label for="rePassword">rePassword</label>
            <input 

            [ngClass]="{

                'is-valid': !registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || registerForm.get('rePassword')?.dirty) ,
                
                'is-invalid': registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || registerForm.get('rePassword')?.dirty)
                
            }"
            
            
            id="rePassword" type="password" class="form-control" formControlName="rePassword">

            @if (registerForm.getError('mismatch') && (registerForm.get('rePassword')?.touched || registerForm.get('rePassword')?.dirty)) 
            {
                <p class="alert alert-danger w-50 m-0">Password confirmation is incorrect</p>
            }

           
        </div>

        <button  class="btn-main d-block ms-auto" type="submit"> Register 
           @if (isloading)
            {
                <span><i class="fas fa-spin fa-spinner"> </i> </span>
            }
        </button>

       @if (msgError)
        {
            <p class="alert alert-danger w-50 m-0">{{msgError}}</p>
        }

        @if (msgSuccess)
            {
                <p  class="bg-grean shadow d-flex justify-content-center align-items-center fs-5 w-50 text-white">account created successfully</p>
            }

       






    </form>










</section>